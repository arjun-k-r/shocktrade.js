CREATE VIEW CompositeQuotes
AS
SELECT
Q.lastUpdatedTime,
Q.expirationTime,
Q.active,
Q.failures,
Q.errorMessage,
Q.symbol,
Q.newSymbol,
Q.exchange,
Q.exchangeCategory,
Q.lastTrade,
Q.tradeDateTime,
Q.tradeDate,
Q.tradeTime,
Q.open,
Q.close,
Q.prevClose,
Q.chg,
Q.changePct,
Q.change52WeekHigh,
Q.change52WeekLow,
Q.high,
Q.low,
Q.low52Week,
Q.high52Week,
Q.highLimit,
Q.lowLimit,
Q.target1Y,
Q.spread,
Q.volume,
Q.avgVolume,
Q.name,
Q.notes,
Q.industry,
Q.sector,
Q.ask,
Q.askSize,
Q.bid,
Q.bidSize,
Q.commission,
Q.divYield,
Q.divShare,
Q.dividendPayDate,
Q.eps,
Q.epsEstCurrentYear,
Q.epsEstNextYear,
Q.epsEstNextQtr,
Q.peRatio,
Q.pegRatio,
Q.shortRatio,
Q.floatShares,
Q.holdingsGain,
Q.sharesOwned,
Q.holdings,
Q.bookValuePerShare,
Q.marketCap,
Q.EBITDA,
K.change52Week,
K.change52WeekSNP500,
K.leveredFreeCashFlow,
K.operatingCashFlow,
K.netIncomeAvailToCommon,
K.totalCash,
K.totalCashPerShare,
K.totalDebt,
K.totalDebtOverEquity,
K.profitMargin,
K.operatingMargin,
K.returnOnAssets,
K.returnOnEquity,
K.revenue,
K.revenuePerShare,
K.revenueGrowthQuarterly,
K.grossProfit,
K.fiscalYearEndDate,
K.mostRecentQuarterDate,
K.dividendYield5YearAvg,
K.dividendDate,
K.exDividendDate,
K.forwardAnnualDividendRate,
K.forwardAnnualDividendYield,
K.trailingAnnualDividendYield,
K.lastSplitFactor,
K.lastSplitDate,
K.earningsGrowthQuarterly,
K.priceOverSales,
K.priceOverBookValue,
K.enterpriseValueOverRevenue,
K.enterpriseValueOverEBITDA,
K.marketCapIntraday,
K.enterpriseValue,
K.beta,
K.currentRatio,
K.dilutedEPS,
K.trailingPE,
K.forwardPE,
K.payoutRatio,
K.pegRatio5YearExp,
K.avgVolume3Month,
K.avgVolume10Day,
K.movingAverage50Day,
K.movingAverage200Day,
K.sharesOutstanding,
K.sharesFloat,
K.pctHeldByInsiders,
K.pctHeldByInstitutions,
K.sharesShort,
K.shortPctOfFloat,
K.sharesShortPriorMonth
FROM StockQuotes Q LEFT JOIN KeyStatistics K ON K.symbol = Q.symbol;
